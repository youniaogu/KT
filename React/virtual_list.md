### 虚拟列表

##### 1. 前言

我们先来看个问题：

一个订单列表容器高 200px，一个订单组件高 50px，也就是说最多能完整显示 4 个订单（算部分出现的话是 5 个）。如果后台接口返回 100 个订单，我们把 100 个订单都渲染出来，但容器最多只能显示 5 个，也就是说其他 95 个渲染就白费了，怎么解决这个问题？

对于订单这种业务场景，大部分情况都会采取**分页处理**，但如果是管理后台项目，需要展示一个大数据列表并且产品要求不能使用分页时，就需要用到**虚拟列表**

##### 2. 什么是虚拟列表？

简单来说，就是通过计算，动态展示列表的一部分，达到节约资源的效果

- 实现起来并不难：`onScroll`处理滚动事件，计算需要展示的列表元素以及列表在整个位置上的偏移，通过`padding`或`absolute`定位将列表固定在容器中间
- 优化起来不简单：虚拟列表主要有两个问题：`快速滑动白屏`、`动态高度实现`

##### 3. 固定高度实现

##### 4. 白屏的原因是什么？

当快速滑动时，onScroll 事件响应的速度未能赶上滑动的速度 ，导致新的页面没能及时渲染出来

##### 5. 动态高度实现
